{"componentChunkName":"component---src-templates-post-jsx","path":"/post/github에서-gpg를-적용해보자","result":{"data":{"blogPost":{"latex":null,"parent":{"__typename":"MarkdownRemark","internal":{"content":"Git에서는 commit이나 tag를 만들 때 gpg 서명을 할 수 있다. 이를 적용해보자.\n\n## GPG 키 만들기\n### GnuPG 설치\nMac에서 brew를 이용해 GnuPG를 설치하자. 이 글에서 사용하는 버전은 `2.2.23`이다.\n```shell\nbrew install gpg\n```\n맥이 아닌 다른 운영체제는 지못미...\n\n### GPG key 생성\n이제 gpg키를 만들어보자:\n```shell\ngpg --full-gen-key\n```\n\n만약 간단하게 만들고 싶으면 `--gen-key`를 사용하자. name과 email만 입력하면 된다.\n\n1. 맘에 드는 키 종류를 고르자. 여기서는 기본값인 `RAS and RSA`를 선택한다.\n2. key size를 선택하자. 1024부터 4096까지 선택할 수 있는데 요즘은 컴퓨터가 좋아서 4096으로 해도 좋다. Github에서는 4096을 권장한다고 한다.\n3. 마음에 드는 키 유효기간을 설정하자.\n4. 마지막으로 name과 email을 설정하면 키가 만들어진다.\n\n### 확인\n다음 명령어를 입력하면 키가 잘 만들어졌는지 확인할 수 있다:\n```shell\n$ gpg --list-secret-keys --keyid-format LONG\n/Users/test/.gnupg/pubring.kbx\n---------------------------------\npub   rsa4096/ABCD1235 2020-10-25 [SC] [expires: 2021-10-25]\n      316D443A0E92BB0A0CFB8C64581C8953EEFAAE4\nuid                 [ultimate] test <test@test.com>\nsub   rsa4096/QWER3455 2020-10-25 [E] [expires: 2021-10-25]\n```\n\n위에서 `rsa4096/ABCD1235`의 `ABCD1235`가 key id이다. 이 key id를 잘 기억하자.\n\n## Git에 GPG key 등록\ngit에서 commit이나 tag를 만들 때 `-S` 옵션을 주면 gpg 서명을 할 수 있다.\n```shell\ngit config --global user.signkey ABCD1234\ngit config --global commit.gpgsign true  # -S 옵션을 주지 않아도 서명한다.\n```\n\n## Githuib에 GPG key 등록\n마지막으로 gpg public key를 github에 등록해야한다.\n다음 명령어를 입력하면 GPG key가 출력된다. 맥에서는 뒤에 `| pbcopy`를 추가하면 바로 클립보드에 복사할 수 있다.\n```shell\n$ gpg --armor --export ABCD1235\n```\n\n복사한 키를 github setting - SSH and GPG keys에서 설정할 수 있다. 이 때 앞뒤의 `-----BEGIN PGP PUBLIC KEY BLOCK-----`, `-----END PGP PUBLIC KEY BLOCK-----`까지 입력해야한다.\n\n이제 commit을 하고 push를 해보면 commit 옆에 Verified가 뜨는 것을 볼 수 있다.\n\n## Referende\n- [기계인간 위키 - GnuPG 사용법](https://johngrib.github.io/wiki/gpg/)\n- [Github docs](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-gpg-key)\n\n## 더 보기\n\n- [RSA](/wiki/rsa)","description":null,"ignoreType":null,"mediaType":null},"html":"<p>Git에서는 commit이나 tag를 만들 때 gpg 서명을 할 수 있다. 이를 적용해보자.</p>\n<h2 id=\"gpg-키-만들기\" style=\"position:relative;\"><a href=\"#gpg-%ED%82%A4-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"gpg 키 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GPG 키 만들기</h2>\n<h3 id=\"gnupg-설치\" style=\"position:relative;\"><a href=\"#gnupg-%EC%84%A4%EC%B9%98\" aria-label=\"gnupg 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GnuPG 설치</h3>\n<p>Mac에서 brew를 이용해 GnuPG를 설치하자. 이 글에서 사용하는 버전은 <code class=\"language-text\">2.2.23</code>이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew <span class=\"token function\">install</span> gpg</code></pre></div>\n<p>맥이 아닌 다른 운영체제는 지못미...</p>\n<h3 id=\"gpg-key-생성\" style=\"position:relative;\"><a href=\"#gpg-key-%EC%83%9D%EC%84%B1\" aria-label=\"gpg key 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GPG key 생성</h3>\n<p>이제 gpg키를 만들어보자:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">gpg --full-gen-key</code></pre></div>\n<p>만약 간단하게 만들고 싶으면 <code class=\"language-text\">--gen-key</code>를 사용하자. name과 email만 입력하면 된다.</p>\n<ol>\n<li>맘에 드는 키 종류를 고르자. 여기서는 기본값인 <code class=\"language-text\">RAS and RSA</code>를 선택한다.</li>\n<li>key size를 선택하자. 1024부터 4096까지 선택할 수 있는데 요즘은 컴퓨터가 좋아서 4096으로 해도 좋다. Github에서는 4096을 권장한다고 한다.</li>\n<li>마음에 드는 키 유효기간을 설정하자.</li>\n<li>마지막으로 name과 email을 설정하면 키가 만들어진다.</li>\n</ol>\n<h3 id=\"확인\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9D%B8\" aria-label=\"확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>확인</h3>\n<p>다음 명령어를 입력하면 키가 잘 만들어졌는지 확인할 수 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ gpg --list-secret-keys --keyid-format LONG\n/Users/test/.gnupg/pubring.kbx\n---------------------------------\npub   rsa4096/ABCD1235 <span class=\"token number\">2020</span>-10-25 <span class=\"token punctuation\">[</span>SC<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>expires: <span class=\"token number\">2021</span>-10-25<span class=\"token punctuation\">]</span>\n      316D443A0E92BB0A0CFB8C64581C8953EEFAAE4\nuid                 <span class=\"token punctuation\">[</span>ultimate<span class=\"token punctuation\">]</span> <span class=\"token builtin class-name\">test</span> <span class=\"token operator\">&lt;</span>test@test.com<span class=\"token operator\">></span>\nsub   rsa4096/QWER3455 <span class=\"token number\">2020</span>-10-25 <span class=\"token punctuation\">[</span>E<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>expires: <span class=\"token number\">2021</span>-10-25<span class=\"token punctuation\">]</span></code></pre></div>\n<p>위에서 <code class=\"language-text\">rsa4096/ABCD1235</code>의 <code class=\"language-text\">ABCD1235</code>가 key id이다. 이 key id를 잘 기억하자.</p>\n<h2 id=\"git에-gpg-key-등록\" style=\"position:relative;\"><a href=\"#git%EC%97%90-gpg-key-%EB%93%B1%EB%A1%9D\" aria-label=\"git에 gpg key 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git에 GPG key 등록</h2>\n<p>git에서 commit이나 tag를 만들 때 <code class=\"language-text\">-S</code> 옵션을 주면 gpg 서명을 할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> config --global user.signkey ABCD1234\n<span class=\"token function\">git</span> config --global commit.gpgsign <span class=\"token boolean\">true</span>  <span class=\"token comment\"># -S 옵션을 주지 않아도 서명한다.</span></code></pre></div>\n<h2 id=\"githuib에-gpg-key-등록\" style=\"position:relative;\"><a href=\"#githuib%EC%97%90-gpg-key-%EB%93%B1%EB%A1%9D\" aria-label=\"githuib에 gpg key 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Githuib에 GPG key 등록</h2>\n<p>마지막으로 gpg public key를 github에 등록해야한다.\n다음 명령어를 입력하면 GPG key가 출력된다. 맥에서는 뒤에 <code class=\"language-text\">| pbcopy</code>를 추가하면 바로 클립보드에 복사할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ gpg --armor --export ABCD1235</code></pre></div>\n<p>복사한 키를 github setting - SSH and GPG keys에서 설정할 수 있다. 이 때 앞뒤의 <code class=\"language-text\">-----BEGIN PGP PUBLIC KEY BLOCK-----</code>, <code class=\"language-text\">-----END PGP PUBLIC KEY BLOCK-----</code>까지 입력해야한다.</p>\n<p>이제 commit을 하고 push를 해보면 commit 옆에 Verified가 뜨는 것을 볼 수 있다.</p>\n<h2 id=\"referende\" style=\"position:relative;\"><a href=\"#referende\" aria-label=\"referende permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Referende</h2>\n<ul>\n<li><a href=\"https://johngrib.github.io/wiki/gpg/\">기계인간 위키 - GnuPG 사용법</a></li>\n<li><a href=\"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-gpg-key\">Github docs</a></li>\n</ul>\n<h2 id=\"더-보기\" style=\"position:relative;\"><a href=\"#%EB%8D%94-%EB%B3%B4%EA%B8%B0\" aria-label=\"더 보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>더 보기</h2>\n<ul>\n<li><a href=\"/wiki/rsa\">RSA</a></li>\n</ul>"},"slug":"/github에서-gpg를-적용해보자","tags":["GPG","Git","Github"],"title":"Github에서 GPG를 적용해보자","excerpt":"Github에서 GPG를 적용해보자","date":"2020-10-25T08:55:01.000Z"}},"pageContext":{"slug":"/github에서-gpg를-적용해보자","nexttitle":"TIL-20201013","nextslug":"/til-20201013","prevtitle":"RSA의 수학적 기초","prevslug":"/rsa의-수학적-기초"}},"staticQueryHashes":[]}